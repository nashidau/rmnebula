/*
 * Initial main.c file generated by Glade. Edit as required.
 * Glade will not overwrite this file.
 */
#include <assert.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>
#include <sys/types.h>

#include <gtk/gtk.h>
#include <libxml/parser.h>


#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include "main.h"
#include "interface.h"
#include "support.h"
#include "profession.h"
#include "comms.h"

GtkWidget *MainWindow;
struct state *state;

int
main(int argc, char *argv[])
{

#ifdef ENABLE_NLS
	bindtextdomain(GETTEXT_PACKAGE, PACKAGE_LOCALE_DIR);
	bind_textdomain_codeset(GETTEXT_PACKAGE, "UTF-8");
	textdomain(GETTEXT_PACKAGE);
#endif
	
	state = calloc(1,sizeof(struct state));
	assert(state != NULL);

	gtk_set_locale();
	gtk_init(&argc, &argv);

	add_pixmap_directory(PACKAGE_DATA_DIR "/" PACKAGE "/pixmaps");
	add_pixmap_directory("../pixmaps");


	/* For wget's downlaod */
	mkdir("/tmp/chooseprofession",0777);
	mkdir("/tmp/chooseprofession/professions",0777);


	/*
	 * The following code was added by Glade to create one of each
	 * component (except popup menus), just so that you see something
	 * after building the project. Delete any components that you don't
	 * want shown initially.
	 */
	MainWindow = create_MainWindow();
	state->MainWindow = MainWindow;
	gtk_widget_show(MainWindow);

	profession_init();
	  
	gtk_main();
	return 0;
}

